#!/usr/bin/env bash
BACKLIGHT_HIGH_SYMBOL=${BACKLIGHT_HIGH_SYMBOL:-' '}

BACKLIGHT_MED_THRESH=${BACKLIGHT_MED_THRESH:-50}
BACKLIGHT_MED_SYMBOL=${BACKLIGHT_MED_SYMBOL:-' '}

BACKLIGHT_LOW_THRESH=${BACKLIGHT_LOW_THRESH:-0}
BACKLIGHT_LOW_SYMBOL=${BACKLIGHT_LOW_SYMBOL:-' '}

DEFAULT_COLOR=${DEFAULT_COLOR:-"#AFAF87"}
BACKLIGHT_DELTA=5

case "$BLOCK_BUTTON" in
    4) xbacklight -inc $BACKLIGHT_DELTA ;;
    5) xbacklight -dec $BACKLIGHT_DELTA ;;
esac

BACKLIGHT_LEVEL=`xbacklight`
BACKLIGHT_LEVEL=${BACKLIGHT_LEVEL%%.*}

SYMB=$BACKLIGHT_HIGH_SYMBOL
[[ $BACKLIGHT_LEVEL -le $BACKLIGHT_MED_THRESH ]] && SYMB=$BACKLIGHT_MED_SYMBOL
[[ $BACKLIGHT_LEVEL -le $BACKLIGHT_LOW_THRESH ]] && SYMB=$BACKLIGHT_LOW_SYMBOL
COLOR=$DEFAULT_COLOR

echo "${SYMB} ${BACKLIGHT_LEVEL}"
echo "${SYMB} ${BACKLIGHT_LEVEL}"
echo "$COLOR"
